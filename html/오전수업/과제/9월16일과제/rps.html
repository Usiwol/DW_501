<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="rps.css">
</head>
<body onload="textChange()">
    <div id="main_wrap">
        <h1>👊 ✌ 🖐</h1>
        <div class="rsp_wrap">
            <div class="com_wrap">
                <div class="rsp_img"><img src="img/scissors.png" id="c"></div>      
            </div>
            <div id="result"></div>
            <div class="user_wrap">
                <div class="scissors">
                    <button id="scissors_bt" onclick="srp(this)"><img src="img/scissors.png" id="a"></button>
                </div>
                <div class="rock">
                    <button id="rock_bt" onclick="srp(this)"><img src="img/rock.png" id="a"></button>
                </div>
                <div class="paper">
                    <button id="paper_bt" onclick="srp(this)"><img src="img/paper.png" id="a"></button>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
    var count = 0;
    var banggle;
    var result = document.getElementById("result");

    function textChange(){
        result.innerHTML = "";
        if(count == 0){
            document.getElementById("c").src="img/scissors.png";
            count++;
        }
        else if(count == 1){
            document.getElementById("c").src="img/rock.png";
            count++;
        }else{
            document.getElementById("c").src="img/paper.png";
            count=0;
        }
        banggle = setTimeout(textChange,100);
    }
    function srp(srp){
        clearTimeout(banggle);
        var com = Math.floor(Math.random()*3);
        var user = srp.id;
        if(user == "rock_bt"){
            if(com == 0){
                document.getElementById("c").src="img/rock.png";
                result.innerHTML = "비겼어"
            }
            else if(com == 1){
                document.getElementById("c").src="img/scissors.png";
                result.innerHTML = "이겼어😎"
            }
            else{
                document.getElementById("c").src="img/paper.png";
                result.innerHTML = "졌어🤪"
            }
        }
        if(user == "scissors_bt"){
            if(com == 0){
                document.getElementById("c").src="img/scissors.png";
                result.innerHTML = "비겼어"
            }
            else if(com == 1){
                document.getElementById("c").src="img/paper.png";
                result.innerHTML = "이겼어😎"
            }
            else{
                document.getElementById("c").src="img/rock.png";
                result.innerHTML = "졌어🤪"
            }
        }
        if(user == "paper_bt"){
            if(com == 0){
                document.getElementById("c").src="img/paper.png";
                result.innerHTML = "비겼어"
            }
            else if(com == 1){
                document.getElementById("c").src="img/rock.png";
                result.innerHTML = "이겼어😎"
            }
            else{
                document.getElementById("c").src="img/scissors.png";
                result.innerHTML = "졌어🤪"
            }
        }
        banggle = setTimeout(textChange, 1000);
    }
    

</script>
</html>
