<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        html 문서
        1. html_set.html
        2. index.html

        html_set.html 에서 배경색, 글씨크기를 쿠키에 저장하기
        input을 이용하여 배경색과 글씨크기 입력 후
        쿠키저장 버튼 클릭하면 쿠키로 저장
        배경색 쿠키 이름 : bg
        글씨크기 쿠키 이름 : fontsize

        index.html 문서를 열었을 때 쿠키에 저장되어 있는 값으로 
        배경색과 글씨 크기가 적용되어야 함

        글씨크기 적용 여부 보기위해 index.html <p>테스트</p> 작성
     -->

    <!-- 쌤 답안 -->
    <input type="text" name="bg" id="bg">
    <input type="number" name="size" id="size">
    <button onclick="cook_save()">쿠키등록</button>

    <a href="1020_index.html"> index 이동 </a>
    

    <!-- 나의 오답 
        <input class="btn" type="text" name="bg" id="bg" style="background-color: pink;">
        <input type="text" name="fontsize" id="fontsize">

    <a href="1020_index.html"></a> -->
</body>
</html>
<script>
    function cook_save(){
        var bg = document.querySelector("#bg").value;
        var size = document.querySelector("#size").value;
        setCookie("bg",bg,3);
        setCookie("fontsize",size,3);
    }
    
    function setCookie(쿠키이름, 데이터, 유효기간){
        // new Date() : 현재 시간을 알려줌
        const day = new Date();
        day.setTime(day.getTime() + (유효기간*24*60*60*1000) );
        // 시간을 문자열로 표기
        let expires = "expires = "+ day.toUTCString();
        // ;(세미콜론) - 구분자 역할을 위해 넣어줌
        document.cookie = 쿠키이름 +"="+데이터+";"+expires+";path=/";
    }




/*
// setCookie("name","kim",1);

function setCookie(쿠키이름, 데이터, 유효기간){
    // new Date() : 현재 시간을 알려줌
    const day = new Date();
    day.setTime(day.getTime() + (유효기간*24*60*60*1000) );
    // 시간을 문자열로 표기
    let expires = "expires = "+ day.toUTCString();
    // ;(세미콜론) - 구분자 역할을 위해 넣어줌
    // document.cookie = 쿠키이름 +"="+데이터+";"+expires+";path=/";
}
// 만들어진 Cookie를 가져오는 함수
function getCookie(){
    // decode : 사람이 볼 수 있는 언어로 바꿔주는 작업
    let decode_cook = decodeURIComponent(document.cookie);
    let temp = decode_cook.split(';'); // 위 구분자 역할 ;(세미콜론)
    for(let i = 0; i<temp.length; i++){
        let c = temp[i];
        // 맨 앞 0번 인덱스가 비어있을 경우를 위해 while문 사용
        while(c.charAt(0) == ' '){
            // substring() : 문자열에서 문자열을 빼오는 함수
            // substring(1,3) : 1번 인덱스 부터 3번 인덱스 전까지
            c = c.substring(1);
        }
        // 
        if (c.indexOf("name=") ==  0){
            alert( c.substring("name=".length,c.length) );
        }
    }
}
// getCookie();

    document.onclick = function (e) {
    if (e.target.className == 'btn') {
        var favColor = e.target.style.backgroundColor;
        setCookie('color', favColor);
        document.body.style.backgroundColor = favColor;
        console.log(favColor);
    }
};

window.onload = function () {
    var favColor = document.body.style.backgroundColor;
    var color = getCookie('color');
    if (color === '') {
        document.body.style.backgroundColor = favColor;
    } else {
      document.body.style.backgroundColor = color;
    }
};
*/
</script>